const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BMy-43R3.js","./CEuAd9LE.js","./entry.CJaZVru0.css"])))=>i.map(i=>d[i]);
import{ab as W,ad as q,M as P}from"./CEuAd9LE.js";const T={content:"v3.5.0--OUUjfYmdtZSmICjP6Md7Cpl6_M-08WkZ2m3K0EGf6AE",blog:"v3.5.0--gRl9m1DbqF1PCEiC5Iszj2iR9i-uccn5QryqivdQUGg",authors:"v3.5.0--bPoks9xg59vY_z8EUZbwit9EE0FvxjOzda2Nx7xnN3c"},F={content:"_content_content",blog:"_content_blog",authors:"_content_authors",info:"_content_info"},ot={content:{type:"page",fields:{id:"string",title:"string",body:"json",description:"string",extension:"string",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"}},blog:{type:"page",fields:{id:"string",title:"string",author:"string",body:"json",date:"date",dateUpdated:"date",description:"string",excerpt:"string",extension:"string",headline:"string",meta:"json",navigation:"json",path:"string",seo:"json",socialImage:"json",stem:"string",tags:"json"}},authors:{type:"data",fields:{id:"string",avatar:"string",bio:"string",extension:"string",meta:"json",name:"string",social:"json",stem:"string"}},info:{type:"data",fields:{}}},v=(t,r)=>{const e=t._conditions;return e.length>0?`(${e.join(` ${r} `)})`:""},C=t=>{const r=[],e={_conditions:r,where(n,s,i){let o;switch(s.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(i)){const c=i.map(u=>y(u)).join(", ");o=`"${String(n)}" ${s.toUpperCase()} (${c})`}else throw new TypeError(`Value for ${s} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(i)&&i.length===2)o=`"${String(n)}" ${s.toUpperCase()} ${y(i[0])} AND ${y(i[1])}`;else throw new Error(`Value for ${s} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":o=`"${String(n)}" ${s.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":o=`"${String(n)}" ${s.toUpperCase()} ${y(i)}`;break;default:o=`"${String(n)}" ${s} ${y(typeof i=="boolean"?Number(i):i)}`}return r.push(`${o}`),e},andWhere(n){const s=n(C());return r.push(v(s,"AND")),e},orWhere(n){const s=n(C());return r.push(v(s,"OR")),e}};return e},B=(t,r)=>{const e={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},n={__params:e,andWhere(i){const o=i(C());return e.conditions.push(v(o,"AND")),n},orWhere(i){const o=i(C());return e.conditions.push(v(o,"OR")),n},path(i){return n.where("path","=",W(i))},skip(i){return e.offset=i,n},where(i,o,c){return n.andWhere(u=>u.where(String(i),o,c)),n},limit(i){return e.limit=i,n},select(...i){return i.length&&e.selectedFields.push(...i),n},order(i,o){return e.orderBy.push(`"${String(i)}" ${o}`),n},async all(){return r(t,s()).then(i=>i||[])},async first(){return r(t,s({limit:1})).then(i=>i[0]||null)},async count(i="*",o=!1){return r(t,s({count:{field:String(i),distinct:o}})).then(c=>c[0].count)}};function s(i={}){let o="SELECT ";if(i?.count)o+=`COUNT(${i.count.distinct?"DISTINCT ":""}${i.count.field}) as count`;else{const u=Array.from(new Set(e.selectedFields));o+=u.length>0?u.map(a=>`"${String(a)}"`).join(", "):"*"}o+=` FROM ${F[String(t)]}`,e.conditions.length>0&&(o+=` WHERE ${e.conditions.join(" AND ")}`),e.orderBy.length>0?o+=` ORDER BY ${e.orderBy.join(", ")}`:o+=" ORDER BY stem ASC";const c=i?.limit||e.limit;return c>0&&(e.offset>0?o+=` LIMIT ${c} OFFSET ${e.offset}`:o+=` LIMIT ${c}`),o}return n};function y(t){return`'${String(t).replace(/'/g,"''")}'`}const M=/\d/,H=["-","_","/","."];function Q(t=""){if(!M.test(t))return t!==t.toLowerCase()}function O(t,r){const e=H,n=[];if(!t||typeof t!="string")return n;let s="",i,o;for(const c of t){const u=e.includes(c);if(u===!0){n.push(s),s="",i=void 0;continue}const a=Q(c);if(o===!1){if(i===!1&&a===!0){n.push(s),s=c,i=a;continue}if(i===!0&&a===!1&&s.length>1){const l=s.at(-1);n.push(s.slice(0,Math.max(0,s.length-1))),s=l+c,i=a;continue}}s+=c,i=a,o=u}return n.push(s),n}function G(t){return t?t[0].toUpperCase()+t.slice(1):""}function z(t,r){return t?(Array.isArray(t)?t:O(t)).map(e=>G(r?.normalize?e.toLowerCase():e)).join(""):""}function at(t,r){return t?(Array.isArray(t)?t:O(t)).map(e=>e.toLowerCase()).join("-"):""}function _(t){return r=>(r=r||{},(t||[]).filter(e=>typeof r[e]<"u").reduce((e,n)=>Object.assign(e,{[n]:r[n]}),{}))}async function Y(t,r=[]){t.__params?.orderBy?.length||(t=t.order("stem","ASC"));const n=await t.orWhere(a=>a.where("navigation","<>","false").where("navigation","IS NULL")).select("navigation","stem","path","title","meta",...r||[]).all(),{contents:s,configs:i}=n.reduce((a,l)=>{if(String(l.stem).split("/").pop()===".navigation"){l.title=l.title?.toLowerCase()==="navigation"?"":l.title;const p=l.path.split("/").slice(0,-1).join("/")||"/";a.configs[p]={...l,...l.body}}else a.contents.push(l);return a},{configs:{},contents:[]}),o=a=>({..._(["title",...r])(a),...a.meta,...A(a?.navigation)?a.navigation:{}}),c=a=>({..._(["title",...r])(a),...A(a?.navigation)?a.navigation:{}}),u=s.reduce((a,l)=>{const p=l.path.substring(1).split("/"),f=l.stem.split("/"),m=!!f[f.length-1]?.match(/([1-9]\d*\.)?index/g),I=d=>({title:d.title,path:d.path,stem:d.stem,children:[],...c(d)}),h=I(l);if(m){const d=i[h.path];if(typeof d?.navigation<"u"&&d?.navigation===!1)return a;if(l.path!=="/"){const g=I(l);h.children.push(g)}d&&Object.assign(h,o(d))}if(p.length===1){const d=a.find(g=>g.path===h.path&&g.page===!1);return m&&d?Object.assign(d,{page:void 0,children:[...h.children||[],...d.children||[]]}):a.push(h),a}const E=p.slice(0,-1).reduce((d,g,N)=>{const x="/"+p.slice(0,N+1).join("/"),b=i[x];if(typeof b?.navigation<"u"&&b.navigation===!1)return[];let S=d.find($=>$.path===x);if(!S){const $=b?o(b):{};S={...$,title:$.title||K(g),path:x,stem:f.slice(0,N+1).join("/"),children:[],page:!1},d.push(S)}return S.children},a),j=E.find(d=>d.path===h.path&&d.page===!1);return j?Object.assign(j,{...h,page:void 0,children:[...h.children||[],...j.children||[]]}):E.push(h),a},[]);return U(u)}function U(t){const r=t;for(const e of r)e.children?.length?U(e.children):delete e.children;return t}function A(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const K=t=>t.split(/[\s-]/g).map(z).join(" ");async function V(t,r,e){const{before:n=1,after:s=1,fields:i=[]}=e||{},o=await Y(t,i),c=L(o),u=c.findIndex(p=>p.path===r),a=u===-1?[]:c.slice(u-n,u),l=u===-1?[]:c.slice(u+1,u+s+1);return[...Array.from({length:n}).fill(null).concat(a).slice(a.length),...l.concat(Array.from({length:s}).fill(null)).slice(0,s)]}function L(t){return t.flatMap(e=>{const n=e.children?L(e.children):[];return e.page===!1||n.length&&n.find(s=>s.path===e.path)?n:[{...e,children:void 0},...n]})}function Z(t){return{type:"root",children:t.value.map(k)}}function k(t){if(typeof t=="string")return{type:"text",value:t};const[r,e,...n]=t;return{type:"element",tag:r,props:e,children:n.map(k)}}const D=/^h([1-6])$/,J=t=>D.test(t);async function X(t,r){const{ignoredTags:e=[],extraFields:n=[]}={};return(await t.where("extension","=","md").select("path","body","description","title",...n||[]).all()).flatMap(i=>tt(i,{ignoredTags:e,extraFields:n}))}function tt(t,{ignoredTags:r,extraFields:e}){const n=!t.body||t.body?.type==="root"?t.body:Z(t.body),s=t.path??"",i=_(e)(t),o=[{...i,id:s,title:t.title||"",titles:[],content:(t.description||"").trim(),level:1}];if(!n?.children)return o;let c=1,u=0;const a=[t.title??""];for(const l of n.children){const p=l.tag||"";if(J(p)){const f=Number(p.match(D)?.[1]??0),m=w(l).trim();f===1?a.splice(0,a.length):f<u?a.splice(f-1,a.length-1):f===u&&a.pop(),o.push({...i,id:`${s}#${l.props?.id}`,title:m,titles:[...a],content:"",level:f}),a.push(m),u=f,c+=1}else{const f=w(l,r).trim();if(c===1&&o[c-1]?.content===f)continue;o[c-1].content=`${o[c-1].content} ${f}`.trim()}}return o}function w(t,r=[]){let e="";return t.type==="text"&&(e+=t.value||""),r.includes(t.tag??"")?"":(t.children?.length&&(e+=t.children.map(n=>w(n,r)).filter(Boolean).join("")),e)}async function ct(t,r){return await $fetch(`/__nuxt_content/${r}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:T[String(r)],t:void 0}})}async function et(t,r,e){return await $fetch(`/__nuxt_content/${r}/query`,{context:t?{cloudflare:t.context.cloudflare}:{},headers:{"content-type":"application/json",...t?.node?.req?.headers?.cookie?{cookie:t.node.req.headers.cookie}:{}},query:{v:T[String(r)],t:void 0},method:"POST",body:{sql:e}})}const nt=t=>{const r=q()?.ssrContext?.event;return B(t,(e,n)=>it(r,e,n))};function lt(t,r,e){return R(t,n=>V(n,r,e))}function ut(t,r){return R(t,e=>X(e))}async function it(t,r,e){return window.WebAssembly?rt(r,e):et(t,String(r),e)}async function rt(t,r){return await P(()=>import("./BMy-43R3.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(n=>n.loadDatabaseAdapter(t)).then(n=>n.all(r))}function R(t,r){const e=nt(t),n={where(s,i,o){return e.where(String(s),i,o),n},andWhere(s){return e.andWhere(s),n},orWhere(s){return e.orWhere(s),n},order(s,i){return e.order(String(s),i),n},then(s,i){return r(e).then(s,i)},catch(s){return this.then(void 0,s)},finally(s){return this.then(void 0,void 0).finally(s)},get[Symbol.toStringTag](){return"Promise"}};return n}export{lt as a,ut as b,ot as c,F as d,T as e,ct as f,at as k,z as p,nt as q,Z as t};
