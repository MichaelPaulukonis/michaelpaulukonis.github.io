import{_ as y,a as B,b as k}from"./CC98PtCP.js";import{_ as v}from"./Ck-l6ref.js";import{j as C,l as n,e as w,k as $,u as E,c as q,b as p,w as A,o as l,f as i,g,h as t}from"./DfQNfkma.js";import{u as D,q as d}from"./DRTKMCtc.js";import"./XpMoVBS8.js";const r=6,j={__name:"[number]",async setup(H){let a,c;const P=C(),e=n(()=>parseInt(P.params.number)||1),{data:o,error:L}=([a,c]=w(async()=>D(`blog-list-${e.value}`,async()=>{const[_,m]=await Promise.all([d("blog").all(),d("blog").order("date","DESC").skip((e.value-1)*r).limit(r).all()]);return{posts:m,totalPages:Math.ceil(_.length/r)}})),a=await a,c(),a);if(!o.value?.posts?.length)throw $({statusCode:404,statusMessage:"Page not found",fatal:!0});const u=n(()=>o.value?.posts),s=n(()=>o.value?.totalPages||0);return E({title:`Blog - Page ${e.value}`,meta:[{name:"description",content:`Blog posts page ${e.value}`}]}),(_,m)=>{const f=y,b=B,x=k,h=v;return l(),q("main",null,[p(f),p(h,{class:"pt-0-important",id:"main"},{default:A(()=>[t(u)?(l(),i(b,{key:0,data:t(u)},null,8,["data"])):g("",!0),t(s)>1?(l(),i(x,{key:1,class:"mt-8",currentPage:t(e),totalPages:t(s),nextPage:t(e)<t(s),baseUrl:"/blog/",pageUrl:"/blog/page/"},null,8,["currentPage","totalPages","nextPage"])):g("",!0)]),_:1})])}}};export{j as default};
