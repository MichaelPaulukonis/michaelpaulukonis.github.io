import{_ as k}from"./CpgQku-7.js";import{i as y,k as d,m as _,l as b,A as C,c as r,o as a,a as t,g as f,ae as B,n as S,v as N,af as T,F as E,r as M,f as V,w as m,t as c,b as j,d as p}from"./CEuAd9LE.js";import{u as L}from"./BDqGN6qE.js";const P={class:"relative z-50"},$={class:"bg-white w-full max-w-2xl rounded-lg shadow-2xl overflow-hidden flex flex-col max-h-[80vh]"},U={class:"p-4 border-b flex items-center gap-4"},z={class:"overflow-y-auto flex-1 p-2"},A={key:0,class:"p-8 text-center text-gray-500"},D={key:1,class:"flex flex-col gap-1"},K={class:"font-bold text-brand_primary group-hover:underline"},R={key:0,class:"text-sm text-gray-600 line-clamp-2 mt-1"},q={class:"text-xxs text-gray-400 uppercase mt-2 tracking-widest"},F={class:"p-4 mt-2 border-t text-center"},I={key:2,class:"p-12 text-center text-gray-500"},O={key:3,class:"p-12 text-center text-gray-400"},W=y({__name:"SearchBar",setup(X){const{search:w}=L(),s=d(""),l=d(!1),h=d(null),v=d(!1),u=d([]);_(s,async n=>{if(n.length<3){u.value=[];return}v.value=!0;try{u.value=await w(n)}finally{v.value=!1}});const x=()=>{l.value=!l.value,l.value&&setTimeout(()=>h.value?.focus(),100)},i=()=>{l.value=!1,s.value=""};return b(()=>{const n=e=>{e.key==="/"&&!["INPUT","TEXTAREA"].includes(e.target.tagName)&&(e.preventDefault(),x()),e.key==="Escape"&&l.value&&i()};window.addEventListener("keydown",n),C(()=>window.removeEventListener("keydown",n))}),(n,e)=>{const g=k;return a(),r("div",P,[t("button",{onClick:x,class:"p-2 text-typography_primary hover:bg-brand_secondary/20 rounded-full transition-colors","aria-label":"Toggle search"},[...e[2]||(e[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),l.value?(a(),r("div",{key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center pt-20 px-4",onClick:B(i,["self"])},[t("div",$,[t("div",U,[e[4]||(e[4]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),S(t("input",{ref_key:"inputRef",ref:h,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value=o),type:"text",placeholder:"Search posts and pages... (min 3 chars)",class:"flex-1 outline-none text-lg text-black",onKeydown:e[1]||(e[1]=T(o=>s.value.length>=3&&n.$router.push(`/search?q=${s.value}`),["enter"]))},null,544),[[N,s.value]]),t("button",{onClick:i,class:"text-gray-400 hover:text-black"},[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",z,[v.value?(a(),r("div",A,[...e[5]||(e[5]=[t("div",{class:"animate-spin inline-block w-8 h-8 border-4 border-brand_primary border-t-transparent rounded-full mb-4"},null,-1),t("p",null,"Searching...",-1)])])):u.value?.length?(a(),r("div",D,[(a(!0),r(E,null,M(u.value,o=>(a(),V(g,{key:o.id,to:o.path,class:"p-3 hover:bg-gray-100 rounded-md transition-colors group",onClick:i},{default:m(()=>[t("h3",K,c(o.title),1),o.excerpt?(a(),r("p",R,c(o.excerpt),1)):f("",!0),t("div",q,c(o.path?.startsWith("/blog")?"Blog Post":"Page"),1)]),_:2},1032,["to"]))),128)),t("div",F,[j(g,{to:`/search?q=${s.value}`,class:"text-brand_primary font-bold hover:underline",onClick:i},{default:m(()=>[p(' View all results for "'+c(s.value)+'" ',1)]),_:1},8,["to"])])])):s.value.length>=3?(a(),r("div",I,' No results found for "'+c(s.value)+'" ',1)):(a(),r("div",O,[...e[6]||(e[6]=[p(" Type at least 3 characters to search. ",-1),t("div",{class:"mt-4 text-xs italic"},[p(" Pro tip: Press "),t("kbd",{class:"px-2 py-1 bg-gray-100 border rounded"},"Esc"),p(" to close ")],-1)])]))])])])):f("",!0)])}}}),Q=Object.assign(W,{__name:"UISearchBar"});export{Q as _};
