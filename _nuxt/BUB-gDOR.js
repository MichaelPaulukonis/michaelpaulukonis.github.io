import{_ as y,a as B,b as v}from"./kIJRGQGh.js";import{_ as C}from"./DU4LSz4j.js";import{j as k,s as n,e as w,q as $,u as q,c as E,b as p,w as A,o as l,f as i,g,h as t}from"./CEuAd9LE.js";import{u as D}from"./nF17Ms4F.js";import{q as d}from"./BbU3nmEn.js";import"./CpgQku-7.js";const r=6,I={__name:"[number]",async setup(H){let a,c;const P=k(),e=n(()=>parseInt(P.params.number)||1),{data:o,error:L}=([a,c]=w(async()=>D(`blog-list-${e.value}`,async()=>{const[m,_]=await Promise.all([d("blog").all(),d("blog").order("date","DESC").skip((e.value-1)*r).limit(r).all()]);return{posts:_,totalPages:Math.ceil(m.length/r)}})),a=await a,c(),a);if(!o.value?.posts?.length)throw $({statusCode:404,statusMessage:"Page not found",fatal:!0});const u=n(()=>o.value?.posts),s=n(()=>o.value?.totalPages||0);return q({title:`Blog - Page ${e.value}`,meta:[{name:"description",content:`Blog posts page ${e.value}`}]}),(m,_)=>{const f=y,b=B,x=v,h=C;return l(),E("main",null,[p(f),p(h,{class:"pt-0-important",id:"main"},{default:A(()=>[t(u)?(l(),i(b,{key:0,data:t(u)},null,8,["data"])):g("",!0),t(s)>1?(l(),i(x,{key:1,class:"mt-8",currentPage:t(e),totalPages:t(s),nextPage:t(e)<t(s),baseUrl:"/blog/",pageUrl:"/blog/page/"},null,8,["currentPage","totalPages","nextPage"])):g("",!0)]),_:1})])}}};export{I as default};
