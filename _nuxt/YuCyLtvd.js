import{_ as b,a as y,b as B}from"./BFWtbthI.js";import{_ as h}from"./D10frrY9.js";import{u as C}from"./B2u0Vu9r.js";import{q as m}from"./Drfajw4X.js";import{u as k}from"./D_ONFa58.js";import{e as w,s as i,c as v,b as _,w as A,o as a,f as p,g,h as t}from"./D5l-M6Xq.js";import"./JRKlstoM.js";const u=6,H={__name:"index",async setup(S){let o,n;const{data:s}=([o,n]=w(async()=>C("blog-list",async()=>{const[r,c]=await Promise.all([m("blog").all(),m("blog").order("date","DESC").limit(u).all()]);return{posts:c,totalPages:Math.ceil(r.length/u)}})),o=await o,n(),o),l=i(()=>s.value?.posts),e=i(()=>s.value?.totalPages||0);return k({title:"Blog",description:"Articles and musings on art, programming, and generative experiments."}),(r,c)=>{const d=b,f=y,x=B,P=h;return a(),v("main",null,[_(d),_(P,{class:"pt-0-important",id:"main"},{default:A(()=>[t(l)?(a(),p(f,{key:0,data:t(l)},null,8,["data"])):g("",!0),t(e)>1?(a(),p(x,{key:1,class:"mt-8",currentPage:1,totalPages:t(e),nextPage:t(e)>1,baseUrl:"/blog/",pageUrl:"/blog/page/"},null,8,["totalPages","nextPage"])):g("",!0)]),_:1})])}}};export{H as default};
